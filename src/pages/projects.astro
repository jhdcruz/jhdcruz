---
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";

import BaseLayout from "@/layouts/BaseLayout.astro";
import Badge from "@/components/Badge.astro";
import projectsList from "@/content/projects.json";
---

<BaseLayout subtitle="Projects">
  <section
    class="dark:bg-dark mx-auto my-12 mb-6 max-w-screen-lg px-10 pb-6 antialiased md:my-20 md:px-6 md:pb-8"
  >
    <h2 class="mb-1 text-4xl font-extrabold text-gray-900 dark:text-white">
      Projects Directory
    </h2>
    <p class="text-gray-500 sm:text-lg dark:text-gray-400">
      Here are some of the public projects that I can share with you
    </p>

    <div
      class="mt-8 grid grid-cols-1 gap-x-20 gap-y-12 sm:mt-10 lg:grid-cols-2"
    >
      {
        projectsList.projects.map((project) => (
          <div class="space-y-6">
            <Image
              width={450}
              height={300}
              src={project.image}
              alt={project.title}
              class="aspect-video h-72 w-full rounded-lg object-cover"
            />

            <a
              href={project.url}
              class="m-0 flex text-2xl leading-tight font-bold text-gray-900 dark:text-white"
            >
              {project.title}
              <span class="ml-3">
                <Badge type={project.type} />
              </span>
            </a>

            <p class="text-lg font-normal text-gray-500 dark:text-gray-400">
              {project.description}
            </p>

            <div class="mt-6 mb-10 flex flex-wrap gap-3">
              {project.stack.map((tech) => (
                <Image
                  width={40}
                  height={40}
                  src={`/assets/tech/${tech}.svg`}
                  alt={tech}
                  title={tech}
                />
              ))}
            </div>

            <a
              href={project.url}
              class="inline-flex w-full items-center justify-center text-center text-base font-semibold text-gray-800 decoration-2 underline-offset-8 hover:underline sm:w-auto dark:text-gray-200"
            >
              View repository
              <Icon class="ml-2" name="tabler:arrow-right" size={18} />
            </a>
          </div>
        ))
      }
    </div>
  </section>
</BaseLayout>
